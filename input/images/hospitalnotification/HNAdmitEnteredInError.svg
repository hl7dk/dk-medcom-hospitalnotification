<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" height="1520px" preserveAspectRatio="none" style="width:1705px;height:1520px;background:#FFFFFF;" version="1.1" viewBox="0 0 1705 1520" width="1705px" zoomAndPan="magnify"><defs/><g><rect fill="none" height="27.6094" id="_title" style="stroke:none;stroke-width:1.0;" width="434" x="628.5" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="424" x="633.5" y="24.5332">Simplified example: Admit and cancel admission for inpatient</text><!--MD5=[e3ce9a70b36f22ff1736cff4b5094119]
cluster admit--><g id="cluster_admit"><rect fill="none" height="1225" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:1.0;" width="834" x="7" y="45.6094"/><path d="M206,45.6094 L206,56.2188 L196,66.2188 L7,66.2188 " fill="none" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="189" x="10" y="61.1426">Message 1: Admit Inpatient</text></g><!--MD5=[77d9f3ba0333437ce7407f559fb23290]
cluster error--><g id="cluster_error"><rect fill="none" height="1469" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:1.0;" width="834" x="865" y="45.6094"/><path d="M1167,45.6094 L1167,56.2188 L1157,66.2188 L865,66.2188 " fill="none" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="292" x="868" y="61.1426">Message 2: Cancel Admission of Inpatient</text></g><!--MD5=[8b0fb6bcdbcce853e3af8ebdd7dc8030]
class admitB--><g id="elem_admitB"><rect codeLine="19" fill="#FFFFFF" height="88.4375" id="admitB" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:0.5;" width="801" x="23.5" y="81.6094"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="290" x="279" y="101.1426">Bundle (MedComHospitalNotificationMessage)</text><line style="stroke:#000000;stroke-width:0.5;" x1="24.5" x2="823.5" y1="109.2188" y2="109.2188"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="307" x="29.5" y="127.752">id = "a5e5b880-c087-4055-b9ec-99108695f81d"</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="110" x="29.5" y="145.3613">type = "message"</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="229" x="29.5" y="162.9707">timestamp = "2022-09-01T12:00:10"</text></g><!--MD5=[68044dbd0c0fdc3b9d6261f9ceefe69d]
class admitMH--><g id="elem_admitMH"><rect codeLine="24" fill="#FFFFFF" height="246.9219" id="admitMH" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:0.5;" width="801" x="23.5" y="179.6094"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="395" x="226.5" y="199.1426">MessageHeader (MedComHospitalNotificationMessageHeader)</text><line style="stroke:#000000;stroke-width:0.5;" x1="24.5" x2="823.5" y1="207.2188" y2="207.2188"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="309" x="29.5" y="225.752">id = "b9b4818e-02de-4cc4-b418-d20cbc7b5404"</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="711" x="29.5" y="243.3613">event.system = "http://medcomfhir.dk/fhir/dk-medcom-terminology/CodeSystem/medcom-messaging-eventCodes"</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="280" x="29.5" y="260.9707">event.code = "hospital-notification-message"</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="789" x="29.5" y="278.5801">destination.use.system = "http://medcomfhir.dk/fhir/dk-medcom-terminology/CodeSystem/medcom-messaging-destinationUse"</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="204" x="29.5" y="296.1895">destination.use.code = "primary"</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="460" x="29.5" y="313.7988">destination.endpoint = "https://sor2.sum.dsdn.dk/#id=953741000016009"</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="550" x="29.5" y="331.4082">destination.receiver.reference = "Organization/o4cdf292-abf3-4f5f-80ea-60a48013ff6d"</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="485" x="29.5" y="349.0176">sender.reference = "Organization/o7056980-a8b2-42aa-8a0e-c1fc85d1f40d"</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="434" x="29.5" y="366.627">source.endpoint = "https://sor2.sum.dsdn.dk/#id=265161000016000"</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="196" x="29.5" y="384.2363">reportOfAdmissionFlag = "true"</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="549" x="29.5" y="401.8457">reportofAdmissionRecipient = "Organization/o7056980-a8b2-42aa-8a0e-c1fc85d1f40d"</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="392" x="29.5" y="419.4551">focus = "Encounter/a790f964-88d3-4652-bbc8-81d2f3d035f8"</text></g><!--MD5=[e036c46784c1ca676a3972d4e1c0dddd]
class admitPT--><g id="elem_admitPT"><rect codeLine="38" fill="#FFFFFF" height="158.875" id="admitPT" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:0.5;" width="801" x="23.5" y="436.6094"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="189" x="329.5" y="456.1426">Patient (MedComCorePatient)</text><line style="stroke:#000000;stroke-width:0.5;" x1="24.5" x2="823.5" y1="464.2188" y2="464.2188"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="300" x="29.5" y="482.752">id = "t33cef33-3626-422b-955d-d506aaa65fe1"</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="276" x="29.5" y="500.3613">identifier.system = "urn:oid:1.2.208.176.1.2"</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="198" x="29.5" y="517.9707">identifier.value = "2509479989"</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="128" x="29.5" y="535.5801">name.use = "official"</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="137" x="29.5" y="553.1895">name.family = "Elmer"</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="153" x="29.5" y="570.7988">name.given[0] = "Bruno"</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="143" x="29.5" y="588.4082">name.given[1] = "Test"</text></g><!--MD5=[221b3f3a43b02d938eddc6ab5661f5a7]
class admitENC--><g id="elem_admitENC"><rect codeLine="47" fill="#FFFFFF" height="211.7031" id="admitENC" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:0.5;" width="801" x="23.5" y="605.6094"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="319" x="264.5" y="625.1426">Encounter (MedComHospitalNotificationEncounter)</text><line style="stroke:#000000;stroke-width:0.5;" x1="24.5" x2="823.5" y1="633.2188" y2="633.2188"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="300" x="29.5" y="651.752">id = "a790f964-88d3-4652-bbc8-81d2f3d035f8"</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="769" x="29.5" y="669.3613">status.system = "http://medcomfhir.dk/fhir/dk-medcom-terminology/ValueSet/medcom-hospitalNotification-encounterStatus"</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="171" x="29.5" y="686.9707">status.code = "in-progress"</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="425" x="29.5" y="704.5801">class.system = "http://terminology.hl7.org/CodeSystem/v3-ActCode"</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="116" x="29.5" y="722.1895">class.code = "IMP"</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="382" x="29.5" y="739.7988">subject = "Patient/t33cef33-3626-422b-955d-d506aaa65fe1"</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="594" x="29.5" y="757.4082">episodeOfCare.identifier.system = "https://www.esundhed.dk/Registre/Landspatientsregisteret"</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="539" x="29.5" y="775.0176">episodeOfCare.identifier.value = "urn:uuid:fc60e762-b13b-5773-865e-67f3907bdcc7"</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="281" x="29.5" y="792.627">period.start = "2022-09-01T12:00:05+02:00"</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="474" x="29.5" y="810.2363">serviceProvider = "Organization/o7056980-a8b2-42aa-8a0e-c1fc85d1f40d"</text></g><!--MD5=[ad527777f3a6291c7554598c28fca64f]
class admitROrg--><g id="elem_admitROrg"><rect codeLine="59" fill="#FFFFFF" height="123.6563" id="admitROrg" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:0.5;" width="801" x="23.5" y="827.6094"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="355" x="246.5" y="847.1426">Receiver: Municipality (MedComMessagingOrganization)</text><line style="stroke:#000000;stroke-width:0.5;" x1="24.5" x2="823.5" y1="855.2188" y2="855.2188"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="288" x="29.5" y="873.752">id = "o4cdf292-abf3-4f5f-80ea-60a48013ff6d"</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="289" x="29.5" y="891.3613">identifier[0].system = "https://www.gs1.org/gln"</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="238" x="29.5" y="908.9707">identifier[0].value = "5790001348120"</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="292" x="29.5" y="926.5801">identifier[1].system = "urn:oid:1.2.208.176.1.1"</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="254" x="29.5" y="944.1895">identifier[1].value = "953741000016009"</text></g><!--MD5=[89083fc17cd646efcc5774baa7271f78]
class admitSOrg--><g id="elem_admitSOrg"><rect codeLine="66" fill="#FFFFFF" height="123.6563" id="admitSOrg" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:0.5;" width="801" x="23.5" y="961.6094"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="322" x="263" y="981.1426">Sender: Hospital (MedComMessagingOrganization)</text><line style="stroke:#000000;stroke-width:0.5;" x1="24.5" x2="823.5" y1="989.2188" y2="989.2188"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="303" x="29.5" y="1007.752">id = "o7056980-a8b2-42aa-8a0e-c1fc85d1f40d"</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="289" x="29.5" y="1025.3613">identifier[0].system = "https://www.gs1.org/gln"</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="238" x="29.5" y="1042.9707">identifier[0].value = "5790000209354"</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="292" x="29.5" y="1060.5801">identifier[1].system = "urn:oid:1.2.208.176.1.1"</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="254" x="29.5" y="1078.1895">identifier[1].value = "265161000016000"</text></g><!--MD5=[2368394ca3ef2fd76d3f052c2d010166]
class admitPRO--><g id="elem_admitPRO"><rect codeLine="73" fill="#FFFFFF" height="158.875" id="admitPRO" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:0.5;" width="801" x="23.5" y="1095.6094"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="294" x="277" y="1115.1426">Provenance  (MedComMessagingProvenance)</text><line style="stroke:#000000;stroke-width:0.5;" x1="24.5" x2="823.5" y1="1123.2188" y2="1123.2188"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="300" x="29.5" y="1141.752">id = "a7128eb7-8df1-4479-b56f-9c66970159f6"</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="442" x="29.5" y="1159.3613">target = "MessageHeader/b9b4818e-02de-4cc4-b418-d20cbc7b5404"</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="321" x="29.5" y="1176.9707">occuredDateTime = "2022-09-01T12:00:30+02:00"</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="222" x="29.5" y="1194.5801">recorded = "2022-09-01T12:00:30"</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="727" x="29.5" y="1212.1895">activity.system = "http://medcomfhir.dk/fhir/dk-medcom-terminology/CodeSystem/medcom-messaging-activityCodes"</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="197" x="29.5" y="1229.7988">activity.code = "admit-inpatient"</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="441" x="29.5" y="1247.4082">agent.who = "Organization/o7056980-a8b2-42aa-8a0e-c1fc85d1f40d"</text></g><!--MD5=[eeb0debb5fca22f0d75064ed3b775ab3]
class errorB--><g id="elem_errorB"><rect codeLine="93" fill="#FFFFFF" height="88.4375" id="errorB" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:0.5;" width="801" x="881.5" y="81.6094"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="294" x="1135" y="101.1426">Bundle  (MedComHospitalNotificationMessage)</text><line style="stroke:#000000;stroke-width:0.5;" x1="882.5" x2="1681.5" y1="109.2188" y2="109.2188"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="310" x="887.5" y="127.752">id = "c83671a4-9584-11ec-b909-0242ac120002"</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="110" x="887.5" y="145.3613">type = "message"</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="229" x="887.5" y="162.9707">timestamp = "2022-09-01T14:00:05"</text></g><!--MD5=[beb118c84b97787df19f260a30b51ecd]
class errorMH--><g id="elem_errorMH"><rect codeLine="98" fill="#FFFFFF" height="211.7031" id="errorMH" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:0.5;" width="801" x="881.5" y="197.1094"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="399" x="1082.5" y="216.6426">MessageHeader  (MedComHospitalNotificationMessageHeader)</text><line style="stroke:#000000;stroke-width:0.5;" x1="882.5" x2="1681.5" y1="224.7188" y2="224.7188"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="304" x="887.5" y="243.252">id = "d8749b54-1aeb-4089-8941-8d876bdffc51"</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="711" x="887.5" y="260.8613">event.system = "http://medcomfhir.dk/fhir/dk-medcom-terminology/CodeSystem/medcom-messaging-eventCodes"</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="280" x="887.5" y="278.4707">event.code = "hospital-notification-message"</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="789" x="887.5" y="296.0801">destination.use.system = "http://medcomfhir.dk/fhir/dk-medcom-terminology/CodeSystem/medcom-messaging-destinationUse"</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="204" x="887.5" y="313.6895">destination.use.code = "primary"</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="460" x="887.5" y="331.2988">destination.endpoint = "https://sor2.sum.dsdn.dk/#id=953741000016009"</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="550" x="887.5" y="348.9082">destination.receiver.reference = "Organization/o4cdf292-abf3-4f5f-80ea-60a48013ff6d"</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="485" x="887.5" y="366.5176">sender.reference = "Organization/o7056980-a8b2-42aa-8a0e-c1fc85d1f40d"</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="434" x="887.5" y="384.127">source.endpoint = "https://sor2.sum.dsdn.dk/#id=265161000016000"</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="403" x="887.5" y="401.7363">focus = "Encounter/c9782061-ce63-41b5-8be6-655812d23332"</text></g><!--MD5=[e245cb8a2d08a530ae37cebee9106e69]
class errorPT--><g id="elem_errorPT"><rect codeLine="110" fill="#FFFFFF" height="158.875" id="errorPT" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:0.5;" width="801" x="881.5" y="436.6094"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="193" x="1185.5" y="456.1426">Patient  (MedComCorePatient)</text><line style="stroke:#000000;stroke-width:0.5;" x1="882.5" x2="1681.5" y1="464.2188" y2="464.2188"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="304" x="887.5" y="482.752">id = "b4055f9c-56ed-472b-b51e-be53652fd0aa"</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="276" x="887.5" y="500.3613">identifier.system = "urn:oid:1.2.208.176.1.2"</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="198" x="887.5" y="517.9707">identifier.value = "2509479989"</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="128" x="887.5" y="535.5801">name.use = "official"</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="137" x="887.5" y="553.1895">name.family = "Elmer"</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="153" x="887.5" y="570.7988">name.given[0] = "Bruno"</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="143" x="887.5" y="588.4082">name.given[1] = "Test"</text></g><!--MD5=[a9c075c36a1e45039083e1f044853e75]
class errorENC--><g id="elem_errorENC"><rect codeLine="119" fill="#FFFFFF" height="211.7031" id="errorENC" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:0.5;" width="801" x="881.5" y="605.6094"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="323" x="1120.5" y="625.1426">Encounter  (MedComHospitalNotificationEncounter)</text><line style="stroke:#000000;stroke-width:0.5;" x1="882.5" x2="1681.5" y1="633.2188" y2="633.2188"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="311" x="887.5" y="651.752">id = "c9782061-ce63-41b5-8be6-655812d23332"</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="769" x="887.5" y="669.3613">status.system = "http://medcomfhir.dk/fhir/dk-medcom-terminology/ValueSet/medcom-hospitalNotification-encounterStatus"</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="200" x="887.5" y="686.9707">status.code = "entered-in-error"</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="425" x="887.5" y="704.5801">class.system = "http://terminology.hl7.org/CodeSystem/v3-ActCode"</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="116" x="887.5" y="722.1895">class.code = "IMP"</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="386" x="887.5" y="739.7988">subject = "Patient/b4055f9c-56ed-472b-b51e-be53652fd0aa"</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="594" x="887.5" y="757.4082">episodeOfCare.identifier.system = "https://www.esundhed.dk/Registre/Landspatientsregisteret"</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="539" x="887.5" y="775.0176">episodeOfCare.identifier.value = "urn:uuid:fc60e762-b13b-5773-865e-67f3907bdcc7"</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="281" x="887.5" y="792.627">period.start = "2022-09-01T12:00:05+02:00"</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="474" x="887.5" y="810.2363">serviceProvider = "Organization/o7056980-a8b2-42aa-8a0e-c1fc85d1f40d"</text></g><!--MD5=[6c9a41914b460d3a5f1dd0d448b31429]
class errorROrg--><g id="elem_errorROrg"><rect codeLine="131" fill="#FFFFFF" height="123.6563" id="errorROrg" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:0.5;" width="801" x="881.5" y="827.6094"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="355" x="1104.5" y="847.1426">Receiver: Municipality (MedComMessagingOrganization)</text><line style="stroke:#000000;stroke-width:0.5;" x1="882.5" x2="1681.5" y1="855.2188" y2="855.2188"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="288" x="887.5" y="873.752">id = "o4cdf292-abf3-4f5f-80ea-60a48013ff6d"</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="289" x="887.5" y="891.3613">identifier[0].system = "https://www.gs1.org/gln"</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="238" x="887.5" y="908.9707">identifier[0].value = "5790001348120"</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="292" x="887.5" y="926.5801">identifier[1].system = "urn:oid:1.2.208.176.1.1"</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="254" x="887.5" y="944.1895">identifier[1].value = "953741000016009"</text></g><!--MD5=[4afeb56674f7fa49ccf35764061b8d1d]
class errorSOrg--><g id="elem_errorSOrg"><rect codeLine="138" fill="#FFFFFF" height="123.6563" id="errorSOrg" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:0.5;" width="801" x="881.5" y="961.6094"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="322" x="1121" y="981.1426">Sender: Hospital (MedComMessagingOrganization)</text><line style="stroke:#000000;stroke-width:0.5;" x1="882.5" x2="1681.5" y1="989.2188" y2="989.2188"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="303" x="887.5" y="1007.752">id = "o7056980-a8b2-42aa-8a0e-c1fc85d1f40d"</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="289" x="887.5" y="1025.3613">identifier[0].system = "https://www.gs1.org/gln"</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="238" x="887.5" y="1042.9707">identifier[0].value = "5790000209354"</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="292" x="887.5" y="1060.5801">identifier[1].system = "urn:oid:1.2.208.176.1.1"</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="254" x="887.5" y="1078.1895">identifier[1].value = "265161000016000"</text></g><!--MD5=[fa176c8b8f7b9fe18e0376420c9c7cc6]
class admiterrorPRO--><g id="elem_admiterrorPRO"><rect codeLine="145" fill="#FFFFFF" height="158.875" id="admiterrorPRO" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:0.5;" width="801" x="881.5" y="1095.6094"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="290" x="1137" y="1115.1426">Provenance (MedComMessagingProvenance)</text><line style="stroke:#000000;stroke-width:0.5;" x1="882.5" x2="1681.5" y1="1123.2188" y2="1123.2188"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="300" x="887.5" y="1141.752">id = "a7128eb7-8df1-4479-b56f-9c66970159f6"</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="442" x="887.5" y="1159.3613">target = "MessageHeader/b9b4818e-02de-4cc4-b418-d20cbc7b5404"</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="321" x="887.5" y="1176.9707">occuredDateTime = "2022-09-01T12:00:30+02:00"</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="222" x="887.5" y="1194.5801">recorded = "2022-09-01T12:00:30"</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="727" x="887.5" y="1212.1895">activity.system = "http://medcomfhir.dk/fhir/dk-medcom-terminology/CodeSystem/medcom-messaging-activityCodes"</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="197" x="887.5" y="1229.7988">activity.code = "admit-inpatient"</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="441" x="887.5" y="1247.4082">agent.who = "Organization/o7056980-a8b2-42aa-8a0e-c1fc85d1f40d"</text></g><!--MD5=[17da20a5a516157a8c1fce446ca93f65]
class errorPRO--><g id="elem_errorPRO"><rect codeLine="154" fill="#FFFFFF" height="211.7031" id="errorPRO" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:0.5;" width="801" x="881.5" y="1286.6094"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="290" x="1137" y="1306.1426">Provenance (MedComMessagingProvenance)</text><line style="stroke:#000000;stroke-width:0.5;" x1="882.5" x2="1681.5" y1="1314.2188" y2="1314.2188"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="307" x="887.5" y="1332.752">id = "dc421d0a-cded-470f-9a53-2ddba7583baa"</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="437" x="887.5" y="1350.3613">target = "MessageHeader/d8749b54-1aeb-4089-8941-8d876bdffc51"</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="321" x="887.5" y="1367.9707">occuredDateTime = "2022-09-01T14:00:25+02:00"</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="222" x="887.5" y="1385.5801">recorded = "2022-09-01T14:00:25"</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="727" x="887.5" y="1403.1895">activity.system = "http://medcomfhir.dk/fhir/dk-medcom-terminology/CodeSystem/medcom-messaging-activityCodes"</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="243" x="887.5" y="1420.7988">activity.code = "cancel-admit-inpatient"</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="441" x="887.5" y="1438.4082">agent.who = "Organization/o7056980-a8b2-42aa-8a0e-c1fc85d1f40d"</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="448" x="887.5" y="1456.0176">entity.role.system = "http://hl7.org/fhir/ValueSet/provenance-entity-role"</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="176" x="887.5" y="1473.627">entity.role.value = "removal"</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="472" x="887.5" y="1491.2363">entity.what = "MessageHeader/b9b4818e-02de-4cc4-b418-d20cbc7b5404"</text></g><!--MD5=[556b98b3a4d3909b45b7fc5f1a3a2576]
link admitB to admitMH--><!--MD5=[2f36b81be7e2fd37c8dd70abd0e29703]
link admitMH to admitPT--><!--MD5=[859e67acec9d8ffbc65cb4a1350759d6]
link admitPT to admitENC--><!--MD5=[f69bb7d73991288835a957c5e30a0ded]
link admitENC to admitROrg--><!--MD5=[f8460bd4b2c2a4369224dcea9f47c36b]
link admitROrg to admitSOrg--><!--MD5=[f3a8aefdba3953f5b249616a0861bf2e]
link admitSOrg to admitPRO--><!--MD5=[6f084a8d2e872725faa44846c01687f1]
link errorB to errorMH--><!--MD5=[f4a6f90ab8cd4587f22264651557da14]
link errorMH to errorPT--><!--MD5=[56358e0dbe0e2cce716083e3aa2c331d]
link errorPT to errorENC--><!--MD5=[42d17321a5a2f7fc52288d4e9bc7b981]
link errorENC to errorROrg--><!--MD5=[f98f56d20bb755e4d5aabf6a21e38333]
link errorROrg to errorSOrg--><!--MD5=[a305cad4a7af414a34f2e85f60e2b82e]
link errorSOrg to admiterrorPRO--><!--MD5=[c6f79db62b0d183cfcff860ba030febb]
link admiterrorPRO to errorPRO--><!--MD5=[314ae6ad41f5533a665467a8a3dff82c]
@startuml HNAdmitEnteredInError

'layout
skinparam class {
    BackgroundColor White
    BorderColor Black
    ArrowColor Black
  }
hide circle
hide empty members
skinparam SameClassWidth true
skinparam Ranksep 10


'title
title Simplified example: Admit and cancel admission for inpatient

'Message 1: Admit inpatient
package "Message 1: Admit Inpatient" as admit <<Frame>>{
    class "Bundle (MedComHospitalNotificationMessage)" as admitB{
        id = "a5e5b880-c087-4055-b9ec-99108695f81d"
        type = "message"
        timestamp = "2022-09-01T12:00:10"
    }
    class "MessageHeader (MedComHospitalNotificationMessageHeader)" as admitMH{
        id = "b9b4818e-02de-4cc4-b418-d20cbc7b5404"
        event.system = "http://medcomfhir.dk/fhir/dk-medcom-terminology/CodeSystem/medcom-messaging-eventCodes"
        event.code = "hospital-notification-message"
        destination.use.system = "http://medcomfhir.dk/fhir/dk-medcom-terminology/CodeSystem/medcom-messaging-destinationUse"
        destination.use.code = "primary"
        destination.endpoint = "https://sor2.sum.dsdn.dk/#id=953741000016009"
        destination.receiver.reference = "Organization/o4cdf292-abf3-4f5f-80ea-60a48013ff6d"
        sender.reference = "Organization/o7056980-a8b2-42aa-8a0e-c1fc85d1f40d"
        source.endpoint = "https://sor2.sum.dsdn.dk/#id=265161000016000"
        reportOfAdmissionFlag = "true"
        reportofAdmissionRecipient = "Organization/o7056980-a8b2-42aa-8a0e-c1fc85d1f40d"
        focus = "Encounter/a790f964-88d3-4652-bbc8-81d2f3d035f8"
    }
    class "Patient (MedComCorePatient)" as admitPT{
        id = "t33cef33-3626-422b-955d-d506aaa65fe1"
        identifier.system = "urn:oid:1.2.208.176.1.2"
        identifier.value = "2509479989"
        name.use = "official"
        name.family = "Elmer"
        name.given[0] = "Bruno"
        name.given[1] = "Test"
    }
    class "Encounter (MedComHospitalNotificationEncounter)" as admitENC{
        id = "a790f964-88d3-4652-bbc8-81d2f3d035f8"
        status.system = "http://medcomfhir.dk/fhir/dk-medcom-terminology/ValueSet/medcom-hospitalNotification-encounterStatus"
        status.code = "in-progress"
        class.system = "http://terminology.hl7.org/CodeSystem/v3-ActCode"
        class.code = "IMP"
        subject = "Patient/t33cef33-3626-422b-955d-d506aaa65fe1"
        episodeOfCare.identifier.system = "https://www.esundhed.dk/Registre/Landspatientsregisteret"
        episodeOfCare.identifier.value = "urn:uuid:fc60e762-b13b-5773-865e-67f3907bdcc7"
        period.start = "2022-09-01T12:00:05+02:00"
        serviceProvider = "Organization/o7056980-a8b2-42aa-8a0e-c1fc85d1f40d"
    }    
    class "Receiver: Municipality (MedComMessagingOrganization)" as admitROrg{
        id = "o4cdf292-abf3-4f5f-80ea-60a48013ff6d"
        identifier[0].system = "https://www.gs1.org/gln"
        identifier[0].value = "5790001348120"
        identifier[1].system = "urn:oid:1.2.208.176.1.1"
        identifier[1].value = "953741000016009"
    }
    class "Sender: Hospital (MedComMessagingOrganization)" as admitSOrg{
        id = "o7056980-a8b2-42aa-8a0e-c1fc85d1f40d"
        identifier[0].system = "https://www.gs1.org/gln"
        identifier[0].value = "5790000209354"
        identifier[1].system = "urn:oid:1.2.208.176.1.1"
        identifier[1].value = "265161000016000"
    }
    class "Provenance  (MedComMessagingProvenance)" as admitPRO{
        id = "a7128eb7-8df1-4479-b56f-9c66970159f6"
        target = "MessageHeader/b9b4818e-02de-4cc4-b418-d20cbc7b5404"
        occuredDateTime = "2022-09-01T12:00:30+02:00"
        recorded = "2022-09-01T12:00:30"
        activity.system = "http://medcomfhir.dk/fhir/dk-medcom-terminology/CodeSystem/medcom-messaging-activityCodes"
        activity.code = "admit-inpatient"
        agent.who = "Organization/o7056980-a8b2-42aa-8a0e-c1fc85d1f40d"
    }

admitB -[hidden]- admitMH
admitMH-[hidden]-admitPT
admitPT-[hidden]-admitENC
admitENC-[hidden]-admitROrg
admitROrg-[hidden]-admitSOrg
admitSOrg-[hidden]-admitPRO
}

'Message 2: Entered in Error inpatient
package "Message 2: Cancel Admission of Inpatient" as error <<Frame>> {
class "Bundle  (MedComHospitalNotificationMessage)" as errorB{
        id = "c83671a4-9584-11ec-b909-0242ac120002"
        type = "message"
        timestamp = "2022-09-01T14:00:05"
    }
    class "MessageHeader  (MedComHospitalNotificationMessageHeader)" as errorMH{
        id = "d8749b54-1aeb-4089-8941-8d876bdffc51"
        event.system = "http://medcomfhir.dk/fhir/dk-medcom-terminology/CodeSystem/medcom-messaging-eventCodes"
        event.code = "hospital-notification-message"
        destination.use.system = "http://medcomfhir.dk/fhir/dk-medcom-terminology/CodeSystem/medcom-messaging-destinationUse"
        destination.use.code = "primary"
        destination.endpoint = "https://sor2.sum.dsdn.dk/#id=953741000016009"
        destination.receiver.reference = "Organization/o4cdf292-abf3-4f5f-80ea-60a48013ff6d"
        sender.reference = "Organization/o7056980-a8b2-42aa-8a0e-c1fc85d1f40d"
        source.endpoint = "https://sor2.sum.dsdn.dk/#id=265161000016000"
        focus = "Encounter/c9782061-ce63-41b5-8be6-655812d23332"
    }
    class "Patient  (MedComCorePatient)" as errorPT{
        id = "b4055f9c-56ed-472b-b51e-be53652fd0aa"
        identifier.system = "urn:oid:1.2.208.176.1.2"
        identifier.value = "2509479989"
        name.use = "official"
        name.family = "Elmer"
        name.given[0] = "Bruno"
        name.given[1] = "Test"
    }
    class "Encounter  (MedComHospitalNotificationEncounter)" as errorENC{
        id = "c9782061-ce63-41b5-8be6-655812d23332"
        status.system = "http://medcomfhir.dk/fhir/dk-medcom-terminology/ValueSet/medcom-hospitalNotification-encounterStatus"
        status.code = "entered-in-error"
        class.system = "http://terminology.hl7.org/CodeSystem/v3-ActCode"
        class.code = "IMP"
        subject = "Patient/b4055f9c-56ed-472b-b51e-be53652fd0aa"
        episodeOfCare.identifier.system = "https://www.esundhed.dk/Registre/Landspatientsregisteret"
        episodeOfCare.identifier.value = "urn:uuid:fc60e762-b13b-5773-865e-67f3907bdcc7"
        period.start = "2022-09-01T12:00:05+02:00"
        serviceProvider = "Organization/o7056980-a8b2-42aa-8a0e-c1fc85d1f40d"
    }    
    class "Receiver: Municipality (MedComMessagingOrganization)" as errorROrg{
        id = "o4cdf292-abf3-4f5f-80ea-60a48013ff6d"
        identifier[0].system = "https://www.gs1.org/gln"
        identifier[0].value = "5790001348120"
        identifier[1].system = "urn:oid:1.2.208.176.1.1"
        identifier[1].value = "953741000016009"
    }
    class "Sender: Hospital (MedComMessagingOrganization)" as errorSOrg{
        id = "o7056980-a8b2-42aa-8a0e-c1fc85d1f40d"
        identifier[0].system = "https://www.gs1.org/gln"
        identifier[0].value = "5790000209354"
        identifier[1].system = "urn:oid:1.2.208.176.1.1"
        identifier[1].value = "265161000016000"
    }
    class "Provenance (MedComMessagingProvenance)" as admiterrorPRO{
        id = "a7128eb7-8df1-4479-b56f-9c66970159f6"
        target = "MessageHeader/b9b4818e-02de-4cc4-b418-d20cbc7b5404"
        occuredDateTime = "2022-09-01T12:00:30+02:00"
        recorded = "2022-09-01T12:00:30"
        activity.system = "http://medcomfhir.dk/fhir/dk-medcom-terminology/CodeSystem/medcom-messaging-activityCodes"
        activity.code = "admit-inpatient"
        agent.who = "Organization/o7056980-a8b2-42aa-8a0e-c1fc85d1f40d"
    }
    class "Provenance (MedComMessagingProvenance)" as errorPRO{
        id = "dc421d0a-cded-470f-9a53-2ddba7583baa"
        target = "MessageHeader/d8749b54-1aeb-4089-8941-8d876bdffc51"
        occuredDateTime = "2022-09-01T14:00:25+02:00"
        recorded = "2022-09-01T14:00:25"
        activity.system = "http://medcomfhir.dk/fhir/dk-medcom-terminology/CodeSystem/medcom-messaging-activityCodes"
        activity.code = "cancel-admit-inpatient"
        agent.who = "Organization/o7056980-a8b2-42aa-8a0e-c1fc85d1f40d"
        entity.role.system = "http://hl7.org/fhir/ValueSet/provenance-entity-role"
        entity.role.value = "removal"
        entity.what = "MessageHeader/b9b4818e-02de-4cc4-b418-d20cbc7b5404"
    }
errorB-[hidden]-errorMH
errorMH-[hidden]-errorPT
errorPT-[hidden]-errorENC
errorENC-[hidden]-errorROrg
errorROrg-[hidden]-errorSOrg
errorSOrg-[hidden]-admiterrorPRO
admiterrorPRO-[hidden]-errorPRO

}

' pile mellem de to beskeder
' admit - -> error


@enduml

@startuml HNAdmitEnteredInError

skinparam class {
    BackgroundColor White
    BorderColor Black
    ArrowColor Black
  }
hide circle
hide empty members
skinparam SameClassWidth true
skinparam Ranksep 10


title Simplified example: Admit and cancel admission for inpatient

package "Message 1: Admit Inpatient" as admit <<Frame>>{
    class "Bundle (MedComHospitalNotificationMessage)" as admitB{
        id = "a5e5b880-c087-4055-b9ec-99108695f81d"
        type = "message"
        timestamp = "2022-09-01T12:00:10"
    }
    class "MessageHeader (MedComHospitalNotificationMessageHeader)" as admitMH{
        id = "b9b4818e-02de-4cc4-b418-d20cbc7b5404"
        event.system = "http://medcomfhir.dk/fhir/dk-medcom-terminology/CodeSystem/medcom-messaging-eventCodes"
        event.code = "hospital-notification-message"
        destination.use.system = "http://medcomfhir.dk/fhir/dk-medcom-terminology/CodeSystem/medcom-messaging-destinationUse"
        destination.use.code = "primary"
        destination.endpoint = "https://sor2.sum.dsdn.dk/#id=953741000016009"
        destination.receiver.reference = "Organization/o4cdf292-abf3-4f5f-80ea-60a48013ff6d"
        sender.reference = "Organization/o7056980-a8b2-42aa-8a0e-c1fc85d1f40d"
        source.endpoint = "https://sor2.sum.dsdn.dk/#id=265161000016000"
        reportOfAdmissionFlag = "true"
        reportofAdmissionRecipient = "Organization/o7056980-a8b2-42aa-8a0e-c1fc85d1f40d"
        focus = "Encounter/a790f964-88d3-4652-bbc8-81d2f3d035f8"
    }
    class "Patient (MedComCorePatient)" as admitPT{
        id = "t33cef33-3626-422b-955d-d506aaa65fe1"
        identifier.system = "urn:oid:1.2.208.176.1.2"
        identifier.value = "2509479989"
        name.use = "official"
        name.family = "Elmer"
        name.given[0] = "Bruno"
        name.given[1] = "Test"
    }
    class "Encounter (MedComHospitalNotificationEncounter)" as admitENC{
        id = "a790f964-88d3-4652-bbc8-81d2f3d035f8"
        status.system = "http://medcomfhir.dk/fhir/dk-medcom-terminology/ValueSet/medcom-hospitalNotification-encounterStatus"
        status.code = "in-progress"
        class.system = "http://terminology.hl7.org/CodeSystem/v3-ActCode"
        class.code = "IMP"
        subject = "Patient/t33cef33-3626-422b-955d-d506aaa65fe1"
        episodeOfCare.identifier.system = "https://www.esundhed.dk/Registre/Landspatientsregisteret"
        episodeOfCare.identifier.value = "urn:uuid:fc60e762-b13b-5773-865e-67f3907bdcc7"
        period.start = "2022-09-01T12:00:05+02:00"
        serviceProvider = "Organization/o7056980-a8b2-42aa-8a0e-c1fc85d1f40d"
    }    
    class "Receiver: Municipality (MedComMessagingOrganization)" as admitROrg{
        id = "o4cdf292-abf3-4f5f-80ea-60a48013ff6d"
        identifier[0].system = "https://www.gs1.org/gln"
        identifier[0].value = "5790001348120"
        identifier[1].system = "urn:oid:1.2.208.176.1.1"
        identifier[1].value = "953741000016009"
    }
    class "Sender: Hospital (MedComMessagingOrganization)" as admitSOrg{
        id = "o7056980-a8b2-42aa-8a0e-c1fc85d1f40d"
        identifier[0].system = "https://www.gs1.org/gln"
        identifier[0].value = "5790000209354"
        identifier[1].system = "urn:oid:1.2.208.176.1.1"
        identifier[1].value = "265161000016000"
    }
    class "Provenance  (MedComMessagingProvenance)" as admitPRO{
        id = "a7128eb7-8df1-4479-b56f-9c66970159f6"
        target = "MessageHeader/b9b4818e-02de-4cc4-b418-d20cbc7b5404"
        occuredDateTime = "2022-09-01T12:00:30+02:00"
        recorded = "2022-09-01T12:00:30"
        activity.system = "http://medcomfhir.dk/fhir/dk-medcom-terminology/CodeSystem/medcom-messaging-activityCodes"
        activity.code = "admit-inpatient"
        agent.who = "Organization/o7056980-a8b2-42aa-8a0e-c1fc85d1f40d"
    }

admitB -[hidden]- admitMH
admitMH-[hidden]-admitPT
admitPT-[hidden]-admitENC
admitENC-[hidden]-admitROrg
admitROrg-[hidden]-admitSOrg
admitSOrg-[hidden]-admitPRO
}

package "Message 2: Cancel Admission of Inpatient" as error <<Frame>> {
class "Bundle  (MedComHospitalNotificationMessage)" as errorB{
        id = "c83671a4-9584-11ec-b909-0242ac120002"
        type = "message"
        timestamp = "2022-09-01T14:00:05"
    }
    class "MessageHeader  (MedComHospitalNotificationMessageHeader)" as errorMH{
        id = "d8749b54-1aeb-4089-8941-8d876bdffc51"
        event.system = "http://medcomfhir.dk/fhir/dk-medcom-terminology/CodeSystem/medcom-messaging-eventCodes"
        event.code = "hospital-notification-message"
        destination.use.system = "http://medcomfhir.dk/fhir/dk-medcom-terminology/CodeSystem/medcom-messaging-destinationUse"
        destination.use.code = "primary"
        destination.endpoint = "https://sor2.sum.dsdn.dk/#id=953741000016009"
        destination.receiver.reference = "Organization/o4cdf292-abf3-4f5f-80ea-60a48013ff6d"
        sender.reference = "Organization/o7056980-a8b2-42aa-8a0e-c1fc85d1f40d"
        source.endpoint = "https://sor2.sum.dsdn.dk/#id=265161000016000"
        focus = "Encounter/c9782061-ce63-41b5-8be6-655812d23332"
    }
    class "Patient  (MedComCorePatient)" as errorPT{
        id = "b4055f9c-56ed-472b-b51e-be53652fd0aa"
        identifier.system = "urn:oid:1.2.208.176.1.2"
        identifier.value = "2509479989"
        name.use = "official"
        name.family = "Elmer"
        name.given[0] = "Bruno"
        name.given[1] = "Test"
    }
    class "Encounter  (MedComHospitalNotificationEncounter)" as errorENC{
        id = "c9782061-ce63-41b5-8be6-655812d23332"
        status.system = "http://medcomfhir.dk/fhir/dk-medcom-terminology/ValueSet/medcom-hospitalNotification-encounterStatus"
        status.code = "entered-in-error"
        class.system = "http://terminology.hl7.org/CodeSystem/v3-ActCode"
        class.code = "IMP"
        subject = "Patient/b4055f9c-56ed-472b-b51e-be53652fd0aa"
        episodeOfCare.identifier.system = "https://www.esundhed.dk/Registre/Landspatientsregisteret"
        episodeOfCare.identifier.value = "urn:uuid:fc60e762-b13b-5773-865e-67f3907bdcc7"
        period.start = "2022-09-01T12:00:05+02:00"
        serviceProvider = "Organization/o7056980-a8b2-42aa-8a0e-c1fc85d1f40d"
    }    
    class "Receiver: Municipality (MedComMessagingOrganization)" as errorROrg{
        id = "o4cdf292-abf3-4f5f-80ea-60a48013ff6d"
        identifier[0].system = "https://www.gs1.org/gln"
        identifier[0].value = "5790001348120"
        identifier[1].system = "urn:oid:1.2.208.176.1.1"
        identifier[1].value = "953741000016009"
    }
    class "Sender: Hospital (MedComMessagingOrganization)" as errorSOrg{
        id = "o7056980-a8b2-42aa-8a0e-c1fc85d1f40d"
        identifier[0].system = "https://www.gs1.org/gln"
        identifier[0].value = "5790000209354"
        identifier[1].system = "urn:oid:1.2.208.176.1.1"
        identifier[1].value = "265161000016000"
    }
    class "Provenance (MedComMessagingProvenance)" as admiterrorPRO{
        id = "a7128eb7-8df1-4479-b56f-9c66970159f6"
        target = "MessageHeader/b9b4818e-02de-4cc4-b418-d20cbc7b5404"
        occuredDateTime = "2022-09-01T12:00:30+02:00"
        recorded = "2022-09-01T12:00:30"
        activity.system = "http://medcomfhir.dk/fhir/dk-medcom-terminology/CodeSystem/medcom-messaging-activityCodes"
        activity.code = "admit-inpatient"
        agent.who = "Organization/o7056980-a8b2-42aa-8a0e-c1fc85d1f40d"
    }
    class "Provenance (MedComMessagingProvenance)" as errorPRO{
        id = "dc421d0a-cded-470f-9a53-2ddba7583baa"
        target = "MessageHeader/d8749b54-1aeb-4089-8941-8d876bdffc51"
        occuredDateTime = "2022-09-01T14:00:25+02:00"
        recorded = "2022-09-01T14:00:25"
        activity.system = "http://medcomfhir.dk/fhir/dk-medcom-terminology/CodeSystem/medcom-messaging-activityCodes"
        activity.code = "cancel-admit-inpatient"
        agent.who = "Organization/o7056980-a8b2-42aa-8a0e-c1fc85d1f40d"
        entity.role.system = "http://hl7.org/fhir/ValueSet/provenance-entity-role"
        entity.role.value = "removal"
        entity.what = "MessageHeader/b9b4818e-02de-4cc4-b418-d20cbc7b5404"
    }
errorB-[hidden]-errorMH
errorMH-[hidden]-errorPT
errorPT-[hidden]-errorENC
errorENC-[hidden]-errorROrg
errorROrg-[hidden]-errorSOrg
errorSOrg-[hidden]-admiterrorPRO
admiterrorPRO-[hidden]-errorPRO

}



@enduml

PlantUML version 1.2022.7(Mon Aug 22 19:01:30 CEST 2022)
(GPL source distribution)
Java Runtime: Java(TM) SE Runtime Environment
JVM: Java HotSpot(TM) 64-Bit Server VM
Default Encoding: Cp1252
Language: da
Country: DK
--></g></svg>